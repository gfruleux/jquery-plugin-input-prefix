/*!
 * Input Prefix plugin for jQuery, by Gr√©goire Fruleux
 * Copyright 2016 Salto Consulting
 * Licensed under https://opensource.org/licenses/GPL-3.0
 * Source https://github.com/gfruleux/jquery-plugin-input-prefix
 */
+function(a){"use strict";function c(){return this.each(function(){new b(this)})}var b=function(b){this.$element=a(b),this.prefix=void 0,this.prefixLen=void 0,this.cursorStart=void 0,this.cursorEnd=void 0,this.currentValue=void 0,this.currentValueLen=void 0,this.setCurrentInfos(this.$element),this.$element.val(this.prefix),this.$element.on("keydown",a.proxy(this.preInputDataPrefixKeydown,this)),this.$element.on("input",a.proxy(this.inputDataPrefixChange,this))};b.version="0.0.1",b.prototype.setCurrentInfos=function(a){this.prefix=a.data("prefix"),this.prefixLen=this.prefix.length,this.cursorStart=a.get(0).selectionStart,this.cursorEnd=a.get(0).selectionEnd,this.currentValue=a.val(),this.currentValueLen=this.currentValue.length},b.prototype.setTargetSelection=function(a,b){a[0].selectionStart=a[0].selectionEnd=b},b.prototype.preInputDataPrefixKeydown=function(a){var b=a.which;8!==b&&46!==b||(a.preventDefault(),this.inputDataPrefixKeydown(a))},b.prototype.inputDataPrefixKeydown=function(a){var b=this,c=a.which;if(b.setCurrentInfos(b.$element),8===c){if(b.cursorEnd<=b.prefixLen)return;b.cursorStart<=b.prefixLen?b.cursorStart=b.prefixLen+1:b.cursorStart=b.cursorStart,b.$element.val(b.currentValue.substr(0,b.cursorStart-1)+b.currentValue.substr(b.cursorEnd,b.currentValueLen)),b.setTargetSelection(b.$element,b.cursorStart-1)}if(46===c){if(b.cursorEnd<b.prefixLen)return;b.cursorStart<b.prefixLen?b.cursorStart=b.prefixLen:b.cursorStart=b.cursorStart,b.$element.val(b.currentValue.substr(0,b.cursorStart)+b.currentValue.substr(b.cursorEnd+1,b.currentValueLen)),b.setTargetSelection(b.$element,b.cursorEnd)}},b.prototype.inputDataPrefixChange=function(a){var b=this;a.which;b.setCurrentInfos(b.$element),(void 0===b.currentValue||b.currentValue<b.prefixLen||b.currentValue.slice(0,b.prefixLen)!==b.prefix)&&b.$element.val(b.prefix)};var d=a.fn.inputprefix;a.fn.inputprefix=c,a.fn.inputprefix.Constructor=b,a.fn.inputprefix.noConflict=function(){return a.fn.inputprefix=d,this},a(document).ready(function(){a("input[data-prefix]").each(function(){var b=a(this);c.call(b)})})}(jQuery);